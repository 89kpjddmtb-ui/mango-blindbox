# 🥭 芒果精灵盲盒 - MVP

一个基于AI推荐的情感礼物盲盒小程序，让用户通过"寄语+盲选"的方式，给亲友或自己送上有意义的礼物。

## ✨ 核心功能

- **AI智能推荐**: 根据用户寄语和预算，AI推荐3款神秘礼物
- **盲盒三选一**: 只知道关键词线索，不知道具体是什么
- **惊喜揭晓**: 选中后才揭晓礼物真面目
- **模拟支付**: 完整的支付流程（当前为模拟）
- **物流追踪**: 模拟物流状态更新

## 🚀 快速开始

### 环境要求

- Node.js 18+
- 微信开发者工具

### 一键启动

```bash
./start.sh
```

或手动启动：

```bash
# 1. 启动后端
cd backend
npm install
npm start

# 2. 打开微信开发者工具
# 3. 导入 weapp 目录
```

### 后端API

服务默认运行在 `http://localhost:3000`

| 接口 | 说明 |
|------|------|
| POST /api/recommend | 获取AI礼物推荐 |
| POST /api/order | 创建订单（模拟支付）|
| GET /api/order/:id | 获取订单详情 |
| GET /api/health | 健康检查 |

## 📁 项目结构

```
mango-blindbox/
├── backend/              # Node.js后端
│   ├── app.js           # 主应用入口
│   ├── package.json     # 依赖配置
│   └── README.md        # 后端文档
├── weapp/               # 微信小程序前端
│   ├── pages/           # 页面目录
│   │   ├── index/      # 首页
│   │   ├── message/    # 输入寄语
│   │   ├── budget/     # 选择预算
│   │   ├── blindbox/   # 盲盒三选一
│   │   ├── reveal/     # 揭晓礼物
│   │   ├── payment/    # 确认支付
│   │   └── order/      # 订单完成
│   ├── app.js          # 小程序入口
│   ├── app.json        # 全局配置
│   └── app.wxss        # 全局样式
├── start.sh            # 一键启动脚本
└── README.md           # 本文件
```

## 🎯 使用流程

1. **首页** - 点击"开启盲盒之旅"
2. **输入寄语** - 写下你的心意（如"我就是超人"）
3. **选择预算** - 选择预算金额（30/50/100/200/500/1000元）
4. **盲盒三选一** - 根据关键词线索选择神秘盲盒
5. **揭晓礼物** - 查看AI为你挑选的礼物
6. **确认支付** - 完成支付流程
7. **订单完成** - 查看订单详情和物流信息

## 🎨 设计特色

- **芒果精灵形象**: 呆萌可爱的吉祥物，圆润身体+灵动大眼
- **温暖配色**: 芒果黄渐变，营造温馨氛围
- **流畅动效**: 漂浮、弹跳、闪光等微交互
- **情感化文案**: 每个环节都有温暖的提示语

## ⚠️ 注意事项

- 当前使用**模拟数据**，礼物推荐来自预定义数据库
- **支付为模拟**，不会真实扣款
- **物流为模拟**，状态随时间自动更新
- 如需真实电商接入，需要申请淘宝/京东开放平台API

## 🔒 安全说明

- 输入数据已做基本校验和过滤
- API已添加简单的请求频率限制
- 敏感错误信息不会暴露给前端

## 📝 待完善

- [ ] 接入真实大模型API进行礼物推荐
- [ ] 接入微信支付
- [ ] 接入真实电商平台API
- [ ] 用户登录系统
- [ ] 订单持久化存储
- [ ] 更完善的物流追踪

## 🎉 演示

```
用户输入: "我就是超人"
预算: 50元

AI推荐:
1. 漫威英雄手办套装 - 关键词: 英雄守护
2. 超人披风毛毯 - 关键词: 超人力量  
3. 英雄主题马克杯 - 关键词: 英雄日常

用户盲选 → 揭晓 → 支付 → 完成！
```

## 👨‍💻 开发团队

基于芒果精灵盲盒设计稿 v2.2 开发

## 📄 License

MIT